# Лабораторная работа по предмету "Облачные технологии и услуги"

## **Техническое задание**

1. **Написать “плохой” Docker compose файл, в котором есть не менее трех “bad practices” по их написанию**
   
2. **Написать “хороший” Docker compose файл, в котором эти плохие практики исправлены**
   
3. **В Readme описать каждую из плохих практик в плохом файле, почему она плохая и как в хорошем она была исправлена, как исправление повлияло на результат**
   
4. **После предыдущих пунктов в хорошем файле настроить сервисы так, чтобы контейнеры в рамках этого compose-проекта так же поднимались вместе, но не "видели" друг друга по сети. В отчете описать, как этого добились и кратко объяснить принцип такой изоляции**

## **Начало работы**

### Плохой Docker-Compose

![alt text](<images/1.PNG>)

### Хороший Docker-Compose

![alt text](<images/2.PNG>)

#

### Плохие практики по работе с контейнерами

**1. Использование списка для переменных окружения**

- **Почему это плохо:** Использование списка для переменных окружения может привести к проблемам с форматированием и читаемостью.
- **Как исправлено:** В хорошем файле переменные окружения заданы в виде словаря, что делает файл более читаемым и удобным для редактирования.

**2. Отсутствие режима только для чтения для томов**

- **Почему это плохо:** Отсутствие режима только для чтения может привести к непреднамеренным изменениям данных в контейнере.

- **Как исправлено:** В хорошем файле для тома ```./html:/usr/share/nginx/html``` установлен режим только для чтения ```(:ro)```, что предотвращает изменения данных в контейнере.

**3. Отсутствие настройки сети**

- **Почему это плохо:** Отсутствие настройки сети может привести к тому, что контейнеры будут доступны друг другу по сети, что может быть небезопасно.
- **Как исправлено:** В хорошем файле настроена сеть ```default``` с драйвером ```bridge```.

#

### Изоляция контейнеров

Для того, чтобы контейнеры не видели друг друга, в ```networks``` добавим второе соединение и укажем разные названия в ```db``` и ```web```. Получаем:

![alt text](<images/3.PNG>)
